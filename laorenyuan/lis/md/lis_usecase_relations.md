# LIS系统用例关系分析

## 1. 系统参与者

### 1.1 主要参与者
- 检验科医生：系统的主要使用者，负责检验相关业务操作
- CDSS系统：外部智能辅助系统，提供质控和解读服务

## 2. 用例关系分析

### 2.1 检验项目质控相关用例

#### 基本用例
1. 检验标本签收
2. 检验报告审核
3. 查看检验报告

#### 包含关系
- 检验标本签收 --<<include>>--> 检验项目质控
  - 说明：在进行标本签收时，必须进行检验项目的质量控制
  - 触发时机：标本签收保存/提交时
  - 质控级别：notice/warning/error

- 检验报告审核 --<<include>>--> 检验项目质控
  - 说明：在审核检验报告时，必须进行检验项目的质量控制
  - 触发时机：报告审核保存/提交时
  - 质控级别：notice/warning/error

### 2.2 检验结果解读相关用例

#### 包含关系
- 查看检验报告 --<<include>>--> 检验结果解读
  - 说明：查看检验报告时，系统自动提供检验结果的智能解读
  - 触发时机：查看报告时
  - 解读内容：针对异常指标提供解读建议

### 2.3 外部系统关联

#### CDSS系统关联
- 检验项目质控 --> CDSS系统
  - 调用接口：cdss-reminder-lis
  - 功能：提供质控规则和判断
  - 响应：返回质控级别和提示信息

- 检验结果解读 --> CDSS系统
  - 调用接口：cdss-analysis-lis
  - 功能：提供检验结果的智能解读
  - 响应：返回解读建议

## 3. 用例执行流程

### 3.1 检验标本签收流程
1. 检验科医生进行标本签收操作
2. 系统自动调用CDSS质控服务
3. 根据质控结果决定是否允许签收
4. 完成标本签收并记录日志

### 3.2 检验报告审核流程
1. 检验科医生进行报告审核
2. 系统自动调用CDSS质控服务
3. 展示质控结果供医生参考
4. 完成报告审核并记录日志

### 3.3 检验报告查看流程
1. 检验科医生查看检验报告
2. 系统自动调用CDSS解读服务
3. 展示检验结果解读建议
4. 完成报告查看并记录日志

## 4. 注意事项

### 4.1 异常处理
- 所有调用CDSS系统的操作都需要做好异常处理
- 设置合理的超时时间（建议3秒）
- 异常时保证业务可以继续进行

### 4.2 数据规范
- 严格按照数据规范传输数据
- 确保必填字段完整性
- 保证数据格式正确性

### 4.3 性能考虑
- 控制单次请求数据量
- 合理设置缓存策略
- 避免频繁请求CDSS系统